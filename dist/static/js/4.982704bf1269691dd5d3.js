webpackJsonp([4],{"/FVY":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),a=n.n(r),s=n("exGp"),c=n.n(s),i=n("//Fk"),o=n.n(i),u=n("PJh5"),l=n("msXN");n("ORgI"),u.locale("ja");var g={data:function(){return{langArray:["ja","en"],currentLangIndex:0,locale:{tourNumber:{ja:"ツアーNo",en:"Tour No."},entranceTime:{ja:"入場受付時間",en:"Entrance Time"},PleasePrepare:{ja:"入場用QRコードを準備してお待ち下さい",en:"Please prepare to show your QR code for entrance."},howtoGetQr:{ja:"入場用QRコード入手方法",en:"How to get your QR code for entrance"},scanBelowQr:{ja:"以下のQRコードからチケット紹介ページへ",en:"Go to the Check Ticket page by scanning the below QR code."},enterNumbers:{ja:"チケット購入番号と購入時の電話番号を入力して照会",en:"Enter the purchase number and the telephone number."}},currentPerformance:{},timeoutInstance_IntervalFetch:null,timeoutInstance_changeLang:null}},computed:{currentLang:function(){return this.langArray[this.currentLangIndex]}},methods:{fetchScheduleStatus:l.a,getNextTickUnixtime:l.b,manipulateScheduleData:l.d,getCurrentPerformance:function(){var e,t=this;return new o.a((e=c()(a.a.mark(function e(n){var r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=u().minute(0).second(0),e.next=4,t.fetchScheduleStatus({startFrom:r.toISOString(),startThrough:r.minute(59).second(59).toISOString()});case 4:s=e.sent,t.currentPerformance=t.manipulateScheduleData(s).filter(function(e){return u().isBetween(u(e.startDate),u(e.endDate))})[0],e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.abrupt("return",n());case 12:case"end":return e.stop()}},e,t,[[0,8]])})),function(t){return e.apply(this,arguments)}))},setFetchStatusDataInterval:function(){var e=this;this.timeoutInstance_IntervalFetch=setTimeout(function(){e.getCurrentPerformance().then(function(){e.setFetchStatusDataInterval()})},this.getNextTickUnixtime())},setChangeLangTimeout:function(e){var t=this;this.timeoutInstance_changeLang=setTimeout(function(){t.currentLangIndex++,t.currentLangIndex>t.langArray.length-1?(t.currentLangIndex=0,t.setChangeLangTimeout(1e4)):t.setChangeLangTimeout()},e||5e3)}},created:function(){var e=this;this.$store.commit("SET_LOADINGMSG","初期化中(トップデッキレーン)"),this.getCurrentPerformance().then(function(){e.$store.commit("CLEAR_LOADINGMSG"),e.setFetchStatusDataInterval(),e.setChangeLangTimeout(1e4)})},beforeDestroy:function(){clearTimeout(this.timeoutInstance_IntervalFetch),clearTimeout(this.timeoutInstance_changeLang)}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fadeup"}},[e.currentPerformance.id?n("div",{class:["container","container-checkintime","lang-"+e.currentLang,{onerror:e.$store.state.errorMsgStr}]},[e.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"データ取得エラーが発生しています "+e.$store.state.errorMsgStr}}):e._e(),e._v(" "),e._m(0),e._v(" "),n("div",{staticClass:"tournumber"},[n("h2",[e._v(e._s(e.locale.tourNumber[e.currentLang]))]),e._v(" "),n("h3",[e._v(e._s(e.currentPerformance.tour_number))])]),e._v(" "),n("div",{staticClass:"time"},[n("h2",[e._v(e._s(e.locale.entranceTime[e.currentLang]))]),e._v(" "),n("h3",[e._v(e._s(e.currentPerformance.start_time)+" ～ "+e._s(e.currentPerformance.end_time))]),e._v(" "),n("p",[e._v(e._s(e.locale.PleasePrepare[e.currentLang]))])]),e._v(" "),n("footer",[n("div",{staticClass:"qrguide"},[n("h2",[e._v(e._s(e.locale.howtoGetQr[e.currentLang]))]),e._v(" "),n("div",{staticClass:"qrguidesteps"},[n("div",[n("h3",[e._v("1.")]),e._v(" "),n("p",[e._v(e._s(e.locale.scanBelowQr[e.currentLang]))]),e._v(" "),e._m(1)]),e._v(" "),n("div",[n("h3",[e._v("2.")]),e._v(" "),n("p",[e._v(e._s(e.locale.enterNumbers[e.currentLang]))]),e._v(" "),e._m(2)])])])])],1):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("div",{staticClass:"inner"},[t("div",{staticClass:"iconwrapper"},[t("shine-icon",{staticClass:"logo"})],1),this._v(" "),t("div",{staticClass:"clockwrapper"},[t("clock",{staticClass:"icon-clock"})],1)])])},function(){var e=this.$createElement,t=this._self._c||e;return t("figure",{staticClass:"qrimage"},[t("img",{staticClass:"langcontent langcontent-ja",attrs:{src:"/static/images/qr-inquiry-ja.svg",alt:"https://reference.tokyotower.co.jp/inquiry/search"}}),this._v(" "),t("img",{staticClass:"langcontent langcontent-en",attrs:{src:"/static/images/qr-inquiry-en.svg",alt:"https://reference.tokyotower.co.jp/inquiry/search?locale=en"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("figure",{staticClass:"formimage"},[t("img",{staticClass:"langcontent langcontent-ja",attrs:{src:"/static/images/figure-inquiryform-ja.png"}}),this._v(" "),t("img",{staticClass:"langcontent langcontent-en",attrs:{src:"/static/images/figure-inquiryform-en.png"}})])}]};var m=n("VU/8")(g,h,!1,function(e){n("wgsm")},"data-v-55710dbb",null);t.default=m.exports},wgsm:function(e,t){}});