webpackJsonp([1],{"+YdJ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW").a.extend({}),a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fadeup"}},[n("div",{class:["container","container-static",{"container-vertical":t.$route.meta.vertical,"container-sleep":-1!==t.$route.name.indexOf("sleep"),"container-suspend":-1!==t.$route.name.indexOf("suspend"),"container-closed":-1!==t.$route.name.indexOf("closed"),"container-todaytdt":-1!==t.$route.name.indexOf("todaytdt")}]},[t.$route.meta.noclock?t._e():t._m(0),t._v(" "),t._m(1)],1)])},staticRenderFns:[function(){var t=this.$createElement;return(this._self._c||t)("clock",{staticClass:"clock icon-clock"})},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h1",[n("shine-icon",{staticClass:"logo",attrs:{src:"/static/images/logo-tdt.svg"}})],1),t._v(" "),n("div",{staticClass:"suspendcontent message"},[n("h2",[t._v("現在、トップデッキツアーは"),n("br",{staticClass:"verticalcontent"}),t._v("休止しております")]),t._v(" "),n("h3",[t._v("The Top Deck Tour "),n("br",{staticClass:"verticalcontent"}),t._v("is currently suspended")])]),t._v(" "),n("div",{staticClass:"closedcontent message"},[n("h2",[t._v("本日のトップデッキツアー"),n("br",{staticClass:"verticalcontent"}),t._v("受付は終了いたしました")]),t._v(" "),n("h3",[t._v("The Top Deck Tour "),n("br",{staticClass:"verticalcontent"}),t._v("is closed for the day")])]),t._v(" "),n("div",{staticClass:"todaytdtcontent message"},[n("h2",[t._v("トップデッキツアー 本日のチケット")]),t._v(" "),n("h3",[t._v("The Top Deck Tour Tickets for today"),n("br"),t._v("Top Deck Tour 当天的门票")])])])}]};var i=n("VU/8")(r,a,!1,function(t){n("9zoL")},"data-v-73da0550",null);e.default=i.exports},0:function(t,e){},"0+US":function(t,e){},"2v5A":function(t,e){},"4E7i":function(t,e,n){"use strict";var r={};n.d(r,"getCredentials",function(){return d}),n.d(r,"createOption",function(){return f});var a={};n.d(a,"EvServiceStatus",function(){return m}),n.d(a,"OnlineSalesStatus",function(){return v});var i={};n.d(i,"changeScale",function(){return g}),n.d(i,"sleep",function(){return _});var o={};n.d(o,"getStatusClassNameByPerformance",function(){return C}),n.d(o,"legacyFetchScheduleStatus",function(){return I}),n.d(o,"fetchScheduleStatus",function(){return E}),n.d(o,"manipulateScheduleData",function(){return A}),n.d(o,"getNextTickUnixtime",function(){return x}),n.d(o,"performance2result",function(){return P});var s=n("N4dp"),c=n("mtWM"),u=n.n(c),l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},h=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function d(t){return l(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,u.a.post("/api/authorize/getCredentials",{},{timeout:Number(t.API_TIMEOUT)})];case 1:return[2,e.sent().data]}})})}function f(t){return l(this,void 0,void 0,function(){var e,n,r;return h(this,function(a){switch(a.label){case 0:return[4,d(t)];case 1:return e=a.sent(),n={domain:"",clientId:e.clientId,redirectUri:"",logoutUri:"",responseType:"",scope:"",state:"",nonce:null,tokenIssuer:""},(r=s.createAuthInstance(n)).setCredentials(e),[2,{endpoint:e.endpoint,auth:r,project:{id:t.PROJECT_ID}}]}})})}var m,v,p=n("PJh5");function g(){var t=1920,e=1080,n={width:window.innerWidth/t,height:window.innerHeight/e},r=n.width<n.height?n.width:n.height,a=document.body;a.style.transform="scale("+r+")",a.setAttribute("data-scale",String(r));var i=document.createElement("style");i.id="changeScale",i.innerHTML="\n    html { width: auto; height: 100%; }\n    body { transform-origin: 0 0; overflow: hidden; }\n    #app .loading-mask { right: 0; bottom: 0; width: 100%; height: 100%; }\n    ",document.body.appendChild(i)}function _(t){return new Promise(function(e){return setTimeout(e,t)})}!function(t){t.Normal="Normal",t.Slowdown="Slowdown",t.Suspended="Suspended"}(m||(m={})),function(t){t.Normal="Normal",t.Suspended="Suspended"}(v||(v={}));var y=this&&this.__assign||function(){return(y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},b=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},S=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},T=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},w=38;function C(t,e){if(e.unavailable)return"item-unavailable";var n="",r=t.format("YYYY-MM-DD");if(!e.is_avg&&(t.isBetween(r+" "+e.start_time+":00",r+" "+e.end_time+":59")&&(n+="item-current"),t.isAfter(r+" "+e.end_time+":59")))return n+" item-soldout";var a=parseInt(e.seat_status,10)||0;return a<w&&a>0?n+" item-crowded":0===a?n+" item-soldout":n+" item-capable"}function I(t,e){return b(this,void 0,void 0,function(){var n;return S(this,function(r){return n=t.state.APPCONFIG,[2,new Promise(function(r){u.a.get(n.API_STATUS_ENDPOINT,{params:y(y({},e),{now:Date.now()}),timeout:n.API_TIMEOUT}).then(function(e){t.commit("UPDATE_MOMENTOBJ");var n="";return Array.isArray(e.data)||(n="("+t.state.moment.format("HH:mm:ss")+") [取得データ異常]"),n?t.commit("SET_ERRORMSG",n):t.commit("CLEAR_ERRORMSG"),r(e.data.sort(function(t,e){return t.startDate<e.startDate?-1:t.startDate>e.startDate?1:0}))}).catch(function(e){return console.log(e),t.commit("UPDATE_MOMENTOBJ"),t.commit("SET_ERRORMSG","("+t.state.moment.format("HH:mm:ss")+") [通信エラー][ステータス取得] "+e.message),r([])})})]})})}function E(t,e){return b(this,void 0,void 0,function(){var n,r,a,i,o,c,u,l,h,d,m,v;return S(this,function(p){switch(p.label){case 0:return p.trys.push([0,7,,8]),void 0===(n=t.state.APPCONFIG).API_STATUS_ENDPOINT&&new Error("API_STATUS_ENDPOINT undefined"),i=(a=s.service.Event).bind,[4,f(n)];case 1:r=new(i.apply(a,[void 0,p.sent()])),o=100,c=1,u=!0,l=[],p.label=2;case 2:return u?[4,r.search(y({page:c,limit:o,typeOf:s.factory.chevre.eventType.ScreeningEvent,startFrom:e.startFrom,startThrough:e.startThrough,sort:{startDate:1}},{$projection:{checkInCount:0,maximumAttendeeCapacity:0,remainingAttendeeCapacity:0}}))]:[3,6];case 3:return h=p.sent(),l=T(l,h.data),c++,(u=h.data.length===o)?[4,_(1e3)]:[3,5];case 4:p.sent(),p.label=5;case 5:return[3,2];case 6:return t.commit("UPDATE_MOMENTOBJ"),d="",Array.isArray(l)?0===l.length?(d="("+t.state.moment.format("HH:mm:ss")+")[スケジュールデータが見つかりませんでした]",t.commit("SET_ERRORMSG",d),[2,[]]):(t.commit("CLEAR_ERRORMSG"),m=l.sort(function(t,e){return t.startDate<e.startDate?-1:t.startDate>e.startDate?1:0}),[2,m.map(function(t){return P(t)})]):(d="("+t.state.moment.format("HH:mm:ss")+") [取得データ異常]",t.commit("SET_ERRORMSG",d),[2,[]]);case 7:return v=p.sent(),console.log(v),t.commit("UPDATE_MOMENTOBJ"),t.commit("SET_ERRORMSG","("+t.state.moment.format("HH:mm:ss")+") [通信エラー][ステータス取得] "+v.message),[2,[]];case 8:return[2]}})})}function A(t,e){return Array.isArray(t)?t.map(function(t){var n=p(t.startDate),r=p(t.endDate);return void 0!==e&&e.setGateEndTime&&r.add(5,"minute"),{id:t.id,day:n.format("YYYYMMDD"),hour:n.format("HH"),start_time:n.format("HH:mm"),end_time:r.format("HH:mm"),startDate:t.startDate,endDate:t.endDate,seat_status:t.remainingAttendeeCapacity,tour_number:t.tourNumber,unavailable:"Normal"!==t.evServiceStatus||"Normal"!==t.onlineSalesStatus}}):[]}function x(){var t=p();return p(t.format("YYYYMMDD HHmm"),"YYYYMMDD HHmm").add(1,"minutes").diff(t,"milliseconds")}function P(t){var e,n,r,i,o,c,u,l,h,d,f,m,v,p,g,_,b=null===(n=null===(e=t.additionalProperty)||void 0===e?void 0:e.find(function(t){return"tourNumber"===t.name}))||void 0===n?void 0:n.value,S=a.EvServiceStatus.Normal,T=a.OnlineSalesStatus.Normal;switch(t.eventStatus){case s.factory.chevre.eventStatusType.EventCancelled:S=a.EvServiceStatus.Suspended,T=a.OnlineSalesStatus.Suspended;break;case s.factory.chevre.eventStatusType.EventPostponed:S=a.EvServiceStatus.Slowdown,T=a.OnlineSalesStatus.Suspended;break;case s.factory.chevre.eventStatusType.EventScheduled:}var w,C,I,E,A,x=null===(r=t.aggregateOffer)||void 0===r?void 0:r.offers,P=Array.isArray(x)?x.map(function(t){var e;return{ticketType:t.id,ticketCategory:null===(e=t.category)||void 0===e?void 0:e.codeValue,count:0}}):[],k=[{where:"DAITEN_AUTH",checkinCountsByTicketType:P},{where:"TOPDECK_AUTH",checkinCountsByTicketType:P}],N=0;w=null===(c=null===(o=null===(i=t.aggregateOffer)||void 0===i?void 0:i.offers)||void 0===o?void 0:o.find(function(t){return"001"===t.identifier}))||void 0===c?void 0:c.maximumAttendeeCapacity,C=null===(h=null===(l=null===(u=t.aggregateOffer)||void 0===u?void 0:u.offers)||void 0===l?void 0:l.find(function(t){return"001"===t.identifier}))||void 0===h?void 0:h.remainingAttendeeCapacity,I=null===(m=null===(f=null===(d=t.aggregateOffer)||void 0===d?void 0:d.offers)||void 0===f?void 0:f.find(function(t){return"004"===t.identifier}))||void 0===m?void 0:m.remainingAttendeeCapacity,E=null===(v=t.aggregateReservation)||void 0===v?void 0:v.reservationCount,A=null===(g=null===(p=t.aggregateOffer)||void 0===p?void 0:p.offers)||void 0===g?void 0:g.map(function(t){var e;return{ticketType:t.id,count:null===(e=t.aggregateReservation)||void 0===e?void 0:e.reservationCount}});var M=null===(_=t.aggregateEntranceGate)||void 0===_?void 0:_.places;return Array.isArray(M)&&(k=M.map(function(t){var e,n;return{where:t.identifier,checkinCountsByTicketType:null===(n=null===(e=t.aggregateOffer)||void 0===e?void 0:e.offers)||void 0===n?void 0:n.map(function(t){var e,n;return{ticketType:t.id,ticketCategory:null===(e=t.category)||void 0===e?void 0:e.codeValue,count:null===(n=t.aggregateReservation)||void 0===n?void 0:n.useActionCount}})}}),N=M.reduce(function(t,e){var n,r=t,a=null===(n=e.aggregateOffer)||void 0===n?void 0:n.offers;return Array.isArray(a)&&(r+=a.reduce(function(t,e){var n;return t+Number(null===(n=e.aggregateReservation)||void 0===n?void 0:n.useActionCount)},0)),r},0)),y(y(y(y(y(y(y(y({},t),{evServiceStatus:S,onlineSalesStatus:T,tourNumber:b}),"number"==typeof w?{maximumAttendeeCapacity:w}:void 0),"number"==typeof C?{remainingAttendeeCapacity:C}:void 0),"number"==typeof I?{remainingAttendeeCapacityForWheelchair:I}:void 0),"number"==typeof E?{reservationCount:E}:void 0),Array.isArray(A)?{reservationCountsByTicketType:A}:void 0),{checkinCountsByWhere:k,checkinCount:N})}n.d(e,!1,function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},"7d9W":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mtWM"),a=n.n(r),i=n("fGqP"),o=n.n(i),s=n("7+uW"),c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=s.a.extend({props:{targetEvent:{type:String,required:!1,default:""},intervalMsIfNoEvent:{type:Number,required:!1,default:15e3}},data:function(){return{apng:null,ctx:null,ctxplayer:null,timeout_resize:null,timeout_play:null}},methods:{resizeCanvas:function(){var t=this;return null!==this.apng&&null!==this.ctx&&(null!==this.timeout_resize&&clearTimeout(this.timeout_resize),this.timeout_resize=setTimeout(function(){var e=t.$refs.image,n=window.getComputedStyle(e,null),r={width:parseInt(n.width.replace("px",""),10),height:parseInt(n.height.replace("px",""),10)},a=t.$refs.canvas;a.setAttribute("width",String(r.width)),a.setAttribute("height",String(r.height)),t.ctx.scale(r.width/t.apng.width,r.height/t.apng.height),t.playAPNG()},200),!1)},loadAPNG:function(){var t=this;return new Promise(function(e,n){return c(t,void 0,void 0,function(){var t,r,i,s;return u(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,a.a.get("/static/images/logo_animated.png",{responseType:"arraybuffer"})];case 1:if(t=c.sent(),this.apng=o()(t.data),r=this.$refs.canvas,this.ctx=r.getContext("2d"),null===this.ctx)throw new Error("ctx === null");return i=this,[4,this.apng.getPlayer(this.ctx)];case 2:return i.ctxplayer=c.sent(),this.resizeCanvas(),[2,e()];case 3:return s=c.sent(),console.log(s),[2,n()];case 4:return[2]}})})})},playAPNG:function(){null!==this.ctxplayer&&(this.ctxplayer.stop(),this.ctxplayer.play())},abandon:function(){this.$refs.image.style.opacity=1,this.$refs.canvas.outerHTML=""},init:function(){var t=this;return this.$route.query.noshine?this.abandon():this.loadAPNG().then(function(){t.targetEvent?t.$parent.$on(t.targetEvent,t.playAPNG):(t.ctxplayer.on("end",function(){null!==t.timeout_play&&clearTimeout(t.timeout_play),t.timeout_play=setTimeout(t.playAPNG,t.intervalMsIfNoEvent)}),t.playAPNG())}).catch(function(){t.abandon()})}},mounted:function(){window.addEventListener("resize",this.resizeCanvas,!1)},beforeDestroy:function(){window.removeEventListener("resize",this.resizeCanvas),null!==this.timeout_resize&&clearTimeout(this.timeout_resize),null!==this.timeout_play&&clearTimeout(this.timeout_play),this.$parent.$off(this.targetEvent,this.playAPNG)}}),h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"shineicon"},[n("img",{ref:"image",attrs:{src:"/static/images/logo-tdt.svg"},on:{"~load":function(e){return t.init(e)}}}),t._v(" "),n("canvas",{ref:"canvas"})])}]};var d=n("VU/8")(l,h,!1,function(t){n("SG/z")},null,null);e.default=d.exports},"8ftZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PJh5"),a=n.n(r),i=n("7+uW"),o=n("4E7i"),s=i.a.extend({data:function(){return{moment_now:a()(),timeoutInstance_updateMoment:null}},computed:{HH:function(){return this.$data.moment_now.format("HH")},mm:function(){return this.$data.moment_now.format("mm")}},methods:{getNextTickUnixtime:o.a.getNextTickUnixtime,setTimeoutUpdateMoment:function(){var t=this;null!==this.timeoutInstance_updateMoment&&clearTimeout(this.timeoutInstance_updateMoment),this.timeoutInstance_updateMoment=setTimeout(function(){t.moment_now=a()(),t.setTimeoutUpdateMoment()},this.getNextTickUnixtime())}},created:function(){this.setTimeoutUpdateMoment()},beforeDestroy:function(){null!==this.timeoutInstance_updateMoment&&clearTimeout(this.timeoutInstance_updateMoment)}}),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"clock"},[e("span",[this._v(this._s(this.HH)),e("span",{staticClass:"colon"},[this._v(":")]),this._v(this._s(this.mm))])])},staticRenderFns:[]};var u=n("VU/8")(s,c,!1,function(t){n("TWo1")},null,null);e.default=u.exports},"9zoL":function(t,e){},"Cx+x":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW").a.extend({components:{Loading:n("hILp").default},computed:{verticalClassName:function(){return this.$route.meta.vertical?this.$route.query.rightTop?"vertical-rightTop":"vertical":""}},beforeDestroy:function(){this.$store.commit("CLEAR_LOADINGMSG")}}),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:[this.verticalClassName],attrs:{id:"app"}},[this.$store.state.loadingMsg?e("loading"):this._e(),this._v(" "),e("transition",{attrs:{name:"fadeup"}},[e("router-view")],1)],1)},staticRenderFns:[]};var i=n("VU/8")(r,a,!1,function(t){n("uN61")},null,null);e.default=i.exports},H4kj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("MU8w"),n("JUaF");var r=n("7+uW"),a=n("NYxO"),i=n("mtWM"),o=n.n(i),s=n("PJh5"),c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};r.a.use(a.a);var l=new a.a.Store({strict:!1,modules:{},state:{moment:s(),errorMsgStr:"",loadingMsg:"",scheduleStatus:[]},mutations:{SET_APPCONFIG:function(t,e){t.APPCONFIG=e},SET_ERRORMSG:function(t,e){t.errorMsgStr=e},CLEAR_ERRORMSG:function(t){t.errorMsgStr=""},SET_LOADINGMSG:function(t,e){t.loadingMsg=e},CLEAR_LOADINGMSG:function(t){t.loadingMsg=""},SET_SCHEDULESTATUS:function(t,e){t.scheduleStatus=e},UPDATE_MOMENTOBJ:function(t){t.moment=s()}},actions:{FETCH_APPCONFIG:function(t){var e=this,n=t.commit;return new Promise(function(t,r){return c(e,void 0,void 0,function(){var e;return u(this,function(a){return e="/api/config",o.a.get(e).then(function(e){return"object"!=typeof e.data||void 0===e.data.API_ENDPOINT?r():(void 0===e.data.API_TIMEOUT&&(e.data.API_TIMEOUT="30000"),n("SET_APPCONFIG",e.data),t(e.data))}).catch(function(t){return console.error(t),r()}),[2]})})})},QUIT:function(){var t=this;return new Promise(function(e){return c(t,void 0,void 0,function(){return u(this,function(t){return window.location.href=window.location.href.split("#")[0],e(),[2]})})})}}}),h=n("/ocq");r.a.use(h.a);var d=new h.a({routes:[{name:"home",path:"/",component:n("yPrU").default,meta:{title:"東京タワー サイネージ画面一覧"}},{name:"todaytdt",path:"/todaytdt",component:n("+YdJ").default,meta:{group:"1fticket",title:"東京タワー 「トップデッキツアー 本日のチケット」",noclock:!0}},{name:"info",path:"/info",component:n("Y2G7").default,meta:{group:"1fticket",title:"東京タワー トップデッキツアー チケット空き状況"}},{name:"guide_lane",path:"/guide/lane",component:n("jwB1").default,meta:{group:"lane",title:"東京タワー 入場案内 トップデッキレーン",vertical:!0}},{name:"guide_gate",path:"/guide/gate",component:n("zPSQ").default,meta:{group:"gate",title:"東京タワー 入場案内 トップデッキゲート"}},{name:"suspend",path:"/suspend",component:n("+YdJ").default,meta:{group:"suspend",title:"東京タワー トップデッキツアー休止中"}},{name:"suspend.vertical",path:"/vertical/suspend",component:n("+YdJ").default,meta:{group:"suspend",title:"東京タワー トップデッキツアー休止中 (縦)",vertical:!0}},{name:"suspend.vertical",path:"/vertical/suspend?rightTop=true",component:n("+YdJ").default,meta:{group:"suspend",title:"東京タワー トップデッキツアー休止中 (縦-右回転)",vertical:!0}},{name:"closed",path:"/closed",component:n("+YdJ").default,meta:{group:"closed",title:"東京タワー トップデッキツアー受付終了"}},{name:"closed.vertical",path:"/vertical/closed",component:n("+YdJ").default,meta:{group:"closed",title:"東京タワー トップデッキツアー受付終了 (縦)",vertical:!0}},{name:"closed.vertical",path:"/vertical/closed?rightTop=true",component:n("+YdJ").default,meta:{group:"closed",title:"東京タワー トップデッキツアー受付終了 (縦-右回転)",vertical:!0}},{name:"sleep",path:"/sleep",component:n("+YdJ").default,meta:{group:"sleep",title:"東京タワー 営業時間外"}},{name:"sleep.vertical",path:"/vertical/sleep",component:n("+YdJ").default,meta:{group:"sleep",title:"東京タワー 営業時間外 (縦)",vertical:!0}},{name:"sleep.vertical",path:"/vertical/sleep?rightTop=true",component:n("+YdJ").default,meta:{group:"sleep",title:"東京タワー 営業時間外 (縦-右回転)",vertical:!0}}]});d.beforeEach(function(t,e,n){return window.document.title=t.meta.title,n()}),d.afterEach(function(){l.commit("CLEAR_LOADINGMSG")});var f=d,m=n("4E7i");r.a.component("ErrorOneline",n("wQMa").default),r.a.component("Clock",n("8ftZ").default),r.a.component("ShineIcon",n("7d9W").default),l.dispatch("FETCH_APPCONFIG").then(function(t){console.log("APPCONFIG",t),new r.a({el:"#VueApp",router:f,store:l,render:function(t){return t(n("Cx+x").default)},created:function(){"auto"===t.CHANGE_SCALE&&(m.b.changeScale(),window.addEventListener("resize",m.b.changeScale,!1))}})}).catch(function(){return alert("CONFIG LOAD ERROR")})},"SG/z":function(t,e){},TWo1:function(t,e){},Y2G7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PJh5"),a=n("4E7i"),i=n("7+uW"),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r};n("ORgI"),r.locale("ja");var u=i.a.extend({data:function(){return{langArray:["ja","en","zh-hans"],currentLangIndex:0,locale:{tdt:{ja:"トップデッキツアー",en:"Top Deck Tour","zh-hans":"Top Deck Tour"},tourNumber:{ja:"ツアーNo",en:"Tour No.","zh-hans":"游览编号"},entranceTime:{ja:"入場受付時間",en:"Entrance Time","zh-hans":"入场受理时间"},availability:{ja:"空き状況",en:"Availability","zh-hans":"可预约情况"}},ticketinfoArray:[{ticket_id:"001",price:3e3,ja:{name:"大人",cap:""},en:{name:"Adult",cap:"(over 18 years)"},"zh-hans":{name:"大人",cap:"(19岁以上)"}},{ticket_id:"002",price:2800,ja:{name:"高校生",cap:""},en:{name:"High School",cap:"(16-18 years)"},"zh-hans":{name:"高中生",cap:"(16～18岁)"}},{ticket_id:"003",price:2e3,ja:{name:"子供",cap:"(小・中学生)"},en:{name:"Junior",cap:"(7-15 years)"},"zh-hans":{name:"儿童",cap:"(7～15岁)"}},{ticket_id:"004",price:1400,ja:{name:"幼児",cap:"(4歳以上)"},en:{name:"Child",cap:"(4-6 years)"},"zh-hans":{name:"幼儿",cap:"(4～6岁)"}}],nearStatusArray:[],futureAvgStatusArray:[],timeoutInstance_changeLang:null,timeoutInstance_IntervalFetch:null}},computed:{currentLang:function(){return this.$data.langArray[this.$data.currentLangIndex]}},methods:{fetchScheduleStatus:a.a.fetchScheduleStatus,getNextTickUnixtime:a.a.getNextTickUnixtime,getStatusClassNameByPerformance:a.a.getStatusClassNameByPerformance,manipulateScheduleData:a.a.manipulateScheduleData,echoPrice:function(t){return"￥"+t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},updateStatus:function(){var t=this;return new Promise(function(e,n){return o(t,void 0,void 0,function(){var t,a,i,o,u,l,h,d;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t=r().minute(0).second(0).milliseconds(0),[4,this.fetchScheduleStatus(this.$store,{startFrom:t.toDate(),startThrough:t.add(4,"hour").minute(59).second(59).toDate()})];case 1:return a=s.sent(),i=r().hour(),o=[],u=[],l={},this.manipulateScheduleData(a).forEach(function(t){try{if(r().isAfter(r(t.endDate)))return!0;-1===u.indexOf(t.hour)&&(u.push(t.hour),l[t.hour]=[]),l[t.hour].push(t),o.length<4&&o.push(t)}catch(t){return console.log(t),!0}return!0}),this.nearStatusArray=o,h=c(Array(4)).map(function(t,e){return e+1+i}),this.futureAvgStatusArray=h.filter(function(t){return"object"==typeof l[t]}).map(function(t){var e=!0,n=Math.floor(l[t].reduce(function(t,n){if(!n.unavailable){e=!1;var r=n.seat_status;return isNaN(r)&&(r=0),t+r}return t},0)/l[t].length);return{hours:t+":00～"+("0"+(t+1)).slice(1)+":00",seat_status:n,unavailable:e,is_avg:!0}}),[3,3];case 2:return d=s.sent(),[2,n(d)];case 3:return[2,e()]}})})})},setFetchStatusDataTimeout:function(){var t=this;null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),this.timeoutInstance_IntervalFetch=setTimeout(function(){return o(t,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.updateStatus()];case 1:return t.sent(),this.setFetchStatusDataTimeout(),[2]}})})},this.getNextTickUnixtime())},setChangeLangTimeout:function(t){var e=this;null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang),this.timeoutInstance_changeLang=setTimeout(function(){e.$emit("langChanged"),e.currentLangIndex++,e.currentLangIndex>e.langArray.length-1?(e.currentLangIndex=0,e.setChangeLangTimeout(6e3)):e.setChangeLangTimeout()},t||3e3)}},created:function(){var t=this;this.$store.commit("SET_LOADINGMSG","最新の情報を取得中..."),this.updateStatus().then(function(){t.$store.commit("CLEAR_LOADINGMSG"),t.setFetchStatusDataTimeout(),t.setChangeLangTimeout(6e3)})},beforeDestroy:function(){null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang)}}),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["container","container-ticketstatus","lang-"+t.currentLang,{onerror:t.$store.state.errorMsgStr}]},[t.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"通信エラーが発生しています "+t.$store.state.errorMsgStr}}):t._e(),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"area area-schedule"},[t._m(1),t._v(" "),n("table",{staticClass:"table-main"},[t._m(2),t._v(" "),n("tbody",t._l(t.nearStatusArray,function(e){return n("tr",{key:e.id,class:["item",t.getStatusClassNameByPerformance(t.$store.state.moment,e,10)]},[n("td",[t._v(t._s(e.tour_number))]),t._v(" "),n("td",{staticClass:"time"},[t._v("\n            "+t._s(e.start_time)+" ～ "+t._s(e.end_time)+"\n          ")]),t._v(" "),n("td",{staticClass:"wrapper-status"},[n("span",{staticClass:"status"},[t._v(t._s(e.seat_status))])])])}),0),t._v(" "),n("tfoot",[n("tr",[n("td",{attrs:{colspan:"3"}},t._l(t.futureAvgStatusArray,function(e,r){return n("div",{key:r,class:["houritem",t.getStatusClassNameByPerformance(t.$store.state.moment,e)]},[n("p",{staticClass:"hours"},[t._v(t._s(e.hours))]),t._v(" "),n("div",{staticClass:"wrapper-status"},[n("p",{staticClass:"status"},[t._v(t._s(e.seat_status))])])])}),0)])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"area area-info"},[n("div",{staticClass:"mainvisual"},[n("p",[n("shine-icon",{attrs:{targetEvent:"langChanged"}})],1)]),t._v(" "),n("div",{staticClass:"prices"},t._l(t.ticketinfoArray,function(e){return n("section",{key:e.ticket_id},[n("div",[n("h2",[t._l(t.langArray,function(r){return n("span",{key:"ticketname_"+r,class:"langcontent langcontent-"+r},[t._v(t._s(e[r].name))])}),t._v(" "),n("span",{staticClass:"cap"},t._l(t.langArray,function(r){return n("span",{key:"ticketcap_"+r,class:"langcontent langcontent-"+r},[t._v(t._s(e[r].cap))])}),0)],2),t._v(" "),n("p",[t._v(t._s(t.echoPrice(e.price)))])])])}),0)])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("span",{staticClass:"tdt"},t._l(t.langArray,function(e){return n("span",{key:"tdt_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.tdt[e]))])}),0),t._v(" "),n("span",{staticClass:"separator"}),t._v(" "),n("clock",{staticClass:"iconBefore icon-clock"})],1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",t._l(t.langArray,function(e){return n("span",{key:"tourNumber_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.tourNumber[e]))])}),0),t._v(" "),n("th",{staticClass:"time"},t._l(t.langArray,function(e){return n("span",{key:"entranceTime_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.entranceTime[e]))])}),0),t._v(" "),n("th",t._l(t.langArray,function(e){return n("span",{key:"availability_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.availability[e]))])}),0)])])}]};var h=n("VU/8")(u,l,!1,function(t){n("w5ZX")},null,null);e.default=h.exports},d3X3:function(t,e){},hILp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW").a.extend({}),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"loading"}},[e("div",{class:["loading-mask",{"loading-mask-vertical":this.$route.meta.vertical}]},[e("div",{staticClass:"loading-wrapper"},[e("div",{staticClass:"loading-container"},[e("div",{staticClass:"loading-header"},[e("h3",[this._v(this._s(this.$store.state.loadingMsg))])]),this._v(" "),this._m(0)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-body"},[e("div",{staticClass:"v-spinner"},[e("div",{staticClass:"v-ring v-ring1"},[e("div",{staticClass:"v-ring v-ring2"}),this._v(" "),e("div",{staticClass:"v-ring v-ring3"})])])])}]};var i=n("VU/8")(r,a,!1,function(t){n("0+US")},"data-v-1115582d",null);e.default=i.exports},jwB1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PJh5"),a=n("4E7i"),i=n("7+uW"),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};n("ORgI"),r.locale("ja");var c=i.a.extend({data:function(){return{langArray:["ja","en"],currentLangIndex:0,locale:{tourNumber:{ja:"ツアーNo",en:"Tour No."},entranceTime:{ja:"入場受付時間",en:"Entrance Time"},PleasePrepare:{ja:"入場用QRコードを準備してお待ち下さい",en:"Please prepare to show your QR code for entrance."},howtoGetQr:{ja:"入場用QRコード入手方法",en:"How to get your QR code for entrance"},scanBelowQr:{ja:"以下のQRコードから<br>チケット紹介ページへ",en:"Go to the Check Ticket page by scanning the below QR code."},enterNumbers:{ja:"チケット購入番号と購入時の電話番号を入力して照会",en:"Enter the purchase number and the telephone number."}},currentPerformance:{},timeoutInstance_IntervalFetch:null,timeoutInstance_changeLang:null}},computed:{currentLang:function(){return this.$data.langArray[this.$data.currentLangIndex]}},methods:{fetchScheduleStatus:a.a.fetchScheduleStatus,getNextTickUnixtime:a.a.getNextTickUnixtime,manipulateScheduleData:a.a.manipulateScheduleData,getCurrentPerformance:function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,a;return s(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=r().minute(0).second(0).milliseconds(0),[4,this.fetchScheduleStatus(this.$store,{startFrom:t.toDate(),startThrough:t.minute(59).second(59).toDate()})];case 1:return n=i.sent(),this.currentPerformance=this.manipulateScheduleData(n).filter(function(t){return r().isBetween(r(t.startDate),r(t.endDate))})[0],[3,3];case 2:return a=i.sent(),console.log(a),[3,3];case 3:return[2,e()]}})})})},setFetchStatusDataInterval:function(){var t=this;null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),this.timeoutInstance_IntervalFetch=setTimeout(function(){t.getCurrentPerformance().then(function(){t.setFetchStatusDataInterval()})},this.getNextTickUnixtime())},setChangeLangTimeout:function(t){var e=this;null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang),this.timeoutInstance_changeLang=setTimeout(function(){e.currentLangIndex++,e.currentLangIndex>e.langArray.length-1?(e.currentLangIndex=0,e.setChangeLangTimeout(1e4)):e.setChangeLangTimeout(),e.$emit("langChanged")},t||5e3)}},created:function(){var t=this;this.$store.commit("SET_LOADINGMSG","読み込み中"),this.getCurrentPerformance().then(function(){t.$store.commit("CLEAR_LOADINGMSG"),t.setFetchStatusDataInterval(),t.setChangeLangTimeout(1e4)})},beforeDestroy:function(){null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang)}}),u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fadeup"}},[n("div",{class:["container","container-checkintime","lang-"+t.currentLang,{onerror:t.$store.state.errorMsgStr}]},[t.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"データ取得エラーが発生しています "+t.$store.state.errorMsgStr}}):t._e(),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"tournumber"},[n("h2",[t._v(t._s(t.locale.tourNumber[t.currentLang]))]),t._v(" "),t.currentPerformance&&t.currentPerformance.tour_number?n("h3",[t._v("\n        "+t._s(t.currentPerformance.tour_number)+"\n      ")]):t._e()]),t._v(" "),t.currentPerformance&&t.currentPerformance.start_time?n("div",{staticClass:"time"},[n("h2",[t._v(t._s(t.locale.entranceTime[t.currentLang]))]),t._v(" "),n("h3",[t._v("\n        "+t._s(t.currentPerformance.start_time)+" ～\n        "+t._s(t.currentPerformance.end_time)+"\n      ")]),t._v(" "),n("p",[t._v(t._s(t.locale.PleasePrepare[t.currentLang]))])]):t._e(),t._v(" "),n("footer",[n("div",{staticClass:"qrguide"},[n("h2",[t._v(t._s(t.locale.howtoGetQr[t.currentLang]))]),t._v(" "),n("div",{staticClass:"qrguidesteps"},[n("div",[n("h3",[t._v("1.")]),t._v(" "),n("p",{domProps:{innerHTML:t._s(t.locale.scanBelowQr[t.currentLang])}}),t._v(" "),t._m(1)]),t._v(" "),n("div",[n("h3",[t._v("2.")]),t._v(" "),n("p",[t._v(t._s(t.locale.enterNumbers[t.currentLang]))]),t._v(" "),t._m(2)])])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("div",{staticClass:"inner"},[e("div",{staticClass:"iconwrapper"},[e("shine-icon",{staticClass:"logo",attrs:{targetEvent:"langChanged"}})],1),this._v(" "),e("div",{staticClass:"clockwrapper"},[e("clock",{staticClass:"icon-clock"})],1)])])},function(){var t=this.$createElement,e=this._self._c||t;return e("figure",{staticClass:"qrimage"},[e("img",{staticClass:"langcontent langcontent-ja",attrs:{src:"/static/images/qr-inquiry-ja.svg",alt:"https://reference.tokyotower.co.jp/inquiry/search"}}),this._v(" "),e("img",{staticClass:"langcontent langcontent-en",attrs:{src:"/static/images/qr-inquiry-en.svg",alt:"https://reference.tokyotower.co.jp/inquiry/search?locale=en"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("figure",{staticClass:"formimage"},[e("img",{staticClass:"langcontent langcontent-ja",attrs:{src:"/static/images/figure-inquiryform-ja.png"}}),this._v(" "),e("img",{staticClass:"langcontent langcontent-en",attrs:{src:"/static/images/figure-inquiryform-en.png"}})])}]};var l=n("VU/8")(c,u,!1,function(t){n("2v5A")},"data-v-37ba99b0",null);e.default=l.exports},olUR:function(t,e){},qmRU:function(t,e){},uN61:function(t,e){},w5ZX:function(t,e){},wQMa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW").a.extend({props:{errorMsgStr:{type:String,required:!0}}}),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-oneline"},[e("div",[e("p",[this._v(this._s(this.errorMsgStr))])])])},staticRenderFns:[]};var i=n("VU/8")(r,a,!1,function(t){n("qmRU")},null,null);e.default=i.exports},yPrU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW").a.extend({computed:{pagesByGroup:function(){var t={};return this.$router.options.routes.forEach(function(e){return!e.meta.group||(t[e.meta.group]=t[e.meta.group]||[],t[e.meta.group].push({title:e.meta.title.replace("東京タワー ",""),path:e.path}))}),t}}}),a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"menu"},t._l(t.pagesByGroup,function(e,r){return n("ul",{key:r},t._l(e,function(e){return n("li",{key:e.path},[n("router-link",{attrs:{to:e.path}},[n("span",[t._v(t._s(e.title))])])],1)}),0)}),0)])}]};var i=n("VU/8")(r,a,!1,function(t){n("olUR")},"data-v-90a875be",null);e.default=i.exports},zPSQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PJh5"),a=n("4E7i"),i=n("7+uW"),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};n("ORgI"),r.locale("ja");var c=i.a.extend({data:function(){return{langArray:["ja","en"],currentLangIndex:0,locale:{tourNumber:{ja:"ツアーNo",en:"Tour No."},entranceTime:{ja:"入場受付時間",en:"Entrance Time"},pleasePrepare:{ja:"入場用QRコードを準備してお待ち下さい",en:"Please prepare to show your QR code for entrance."}},currentPerformanceArray:[],timeoutInstance_IntervalFetch:null,timeoutInstance_changeLang:null}},computed:{currentLang:function(){return this.$data.langArray[this.$data.currentLangIndex]}},methods:{fetchScheduleStatus:a.a.fetchScheduleStatus,getNextTickUnixtime:a.a.getNextTickUnixtime,manipulateScheduleData:a.a.manipulateScheduleData,getCurrentPerformance:function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,a;return s(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=r().minute(0).second(0).milliseconds(0),[4,this.fetchScheduleStatus(this.$store,{startFrom:t.toDate(),startThrough:t.minute(59).second(59).toDate()})];case 1:return n=i.sent(),this.currentPerformanceArray=this.manipulateScheduleData(n,{setGateEndTime:!0}).filter(function(t){return r().isBetween(r(t.startDate),r(t.endDate).add(5,"minute"))}),[3,3];case 2:return a=i.sent(),console.log(a),[3,3];case 3:return[2,e()]}})})})},setFetchStatusDataInterval:function(){var t=this;null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),this.timeoutInstance_IntervalFetch=setTimeout(function(){t.getCurrentPerformance().then(function(){t.setFetchStatusDataInterval()})},this.getNextTickUnixtime())},setChangeLangTimeout:function(t){var e=this;null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang),this.timeoutInstance_changeLang=setTimeout(function(){e.currentLangIndex++,e.currentLangIndex>e.langArray.length-1?(e.currentLangIndex=0,e.setChangeLangTimeout(1e4)):e.setChangeLangTimeout(),e.$emit("langChanged")},t||5e3)}},created:function(){var t=this;this.$store.commit("SET_LOADINGMSG","読み込み中"),this.getCurrentPerformance().then(function(){t.$store.commit("CLEAR_LOADINGMSG"),t.setFetchStatusDataInterval(),t.setChangeLangTimeout(1e4)})},beforeDestroy:function(){null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang)}}),u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fadeup"}},[n("div",{class:["container","container-checkintime","lang-"+t.currentLang,{onerror:t.$store.state.errorMsgStr}]},[t.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"データ取得エラーが発生しています "+t.$store.state.errorMsgStr}}):t._e(),t._v(" "),t._m(0),t._v(" "),n("table",{staticClass:"table-tours"},[n("thead",[n("tr",[n("th",[t._v(t._s(t.locale.tourNumber[t.currentLang]))]),t._v(" "),n("th",[t._v(t._s(t.locale.entranceTime[t.currentLang]))])])]),t._v(" "),n("tbody",[t.currentPerformanceArray.length?t._e():n("tr",[n("td"),t._v(" "),n("td")]),t._v(" "),t._l(t.currentPerformanceArray,function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.tour_number))]),t._v(" "),n("td",[t._v("\n            "+t._s(e.start_time)+" ～\n            "+t._s(e.end_time)+"\n          ")])])})],2),t._v(" "),n("tfoot",[n("tr",[n("td",{attrs:{colspan:"2"}},[t._v(t._s(t.locale.pleasePrepare[t.currentLang]))])])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("div",{staticClass:"inner"},[e("div",{staticClass:"iconwrapper"},[e("shine-icon",{staticClass:"logo",attrs:{targetEvent:"langChanged"}})],1),this._v(" "),e("div",{staticClass:"clockwrapper"},[e("clock",{staticClass:"icon-clock"})],1)])])}]};var l=n("VU/8")(c,u,!1,function(t){n("d3X3")},"data-v-0bc94918",null);e.default=l.exports}},["H4kj"]);