webpackJsonp([1],{"+YdJ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fadeup"}},[n("div",{class:["container","container-static",{"container-vertical":t.$route.meta.vertical,"container-sleep":-1!==t.$route.name.indexOf("sleep"),"container-suspend":-1!==t.$route.name.indexOf("suspend"),"container-closed":-1!==t.$route.name.indexOf("closed"),"container-todaytdt":-1!==t.$route.name.indexOf("todaytdt")}]},[t.$route.meta.noclock?t._e():t._m(0),t._v(" "),t._m(1)],1)])},staticRenderFns:[function(){var t=this.$createElement;return(this._self._c||t)("clock",{staticClass:"clock icon-clock"})},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h1",[n("shine-icon",{staticClass:"logo",attrs:{src:"/static/images/logo-tdt.svg"}})],1),t._v(" "),n("div",{staticClass:"suspendcontent message"},[n("h2",[t._v("現在、トップデッキツアーは"),n("br",{staticClass:"verticalcontent"}),t._v("休止しております")]),t._v(" "),n("h3",[t._v("The Top Deck Tour "),n("br",{staticClass:"verticalcontent"}),t._v("is currently suspended")])]),t._v(" "),n("div",{staticClass:"closedcontent message"},[n("h2",[t._v("本日のトップデッキツアー"),n("br",{staticClass:"verticalcontent"}),t._v("受付は終了いたしました")]),t._v(" "),n("h3",[t._v("The Top Deck Tour "),n("br",{staticClass:"verticalcontent"}),t._v("is closed for the day")])]),t._v(" "),n("div",{staticClass:"todaytdtcontent message"},[n("h2",[t._v("トップデッキツアー 本日のチケット")]),t._v(" "),n("h3",[t._v("The Top Deck Tour Tickets for today"),n("br"),t._v("Top Deck Tour 当天的门票")])])])}]};var r=n("VU/8")({},a,!1,function(t){n("ETUV")},"data-v-5f54e73f",null);e.default=r.exports},"4E7i":function(t,e,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.manipulateScheduleData=e.fetchScheduleStatus=e.getStatusClassNameByPerformance=e.getNextTickUnixtime=e.sleep=void 0;var r=n("mtWM"),s=n("PJh5");e.sleep=function(t){return new Promise(function(e){return setTimeout(e,t)})},e.getNextTickUnixtime=function(){var t=s();return s(t.format("YYYYMMDD HHmm"),"YYYYMMDD HHmm").add(1,"minutes").diff(t,"milliseconds")};var i=38;e.getStatusClassNameByPerformance=function(t,e){if(e.unavailable)return"item-unavailable";var n="",a=t.format("YYYY-MM-DD");if(!e.is_avg&&(t.isBetween(a+" "+e.start_time+":00",a+" "+e.end_time+":59")&&(n+="item-current"),t.isAfter(a+" "+e.end_time+":59")))return n+" item-soldout";var r=parseInt(e.seat_status,10)||0;return r<i&&r>0?n+" item-crowded":0===r?n+" item-soldout":n+" item-capable"},e.fetchScheduleStatus=function(t,e){var n=t.state.APPCONFIG;return new Promise(function(s){r.default.get(n.API_STATUS_ENDPOINT,{params:a(a({},e),{now:Date.now()}),timeout:n.API_TIMEOUT}).then(function(e){t.commit("UPDATE_MOMENTOBJ");var n="";return Array.isArray(e.data)||(n="("+t.state.moment.format("HH:mm:ss")+") [取得データ異常]"),n?t.commit("SET_ERRORMSG",n):t.commit("CLEAR_ERRORMSG"),s(e.data.sort(function(t,e){return t.startDate<e.startDate?-1:t.startDate>e.startDate?1:0}))}).catch(function(e){return console.log(e),t.commit("UPDATE_MOMENTOBJ"),t.commit("SET_ERRORMSG","("+t.state.moment.format("HH:mm:ss")+") [通信エラー][ステータス取得] "+e.message),s([])})})},e.manipulateScheduleData=function(t,e){return Array.isArray(t)?t.map(function(t){var n=s(t.startDate),a=s(t.endDate);return void 0!==e&&e.setGateEndTime&&a.add(5,"minute"),{id:t.id,day:n.format("YYYYMMDD"),hour:n.format("HH"),start_time:n.format("HH:mm"),end_time:a.format("HH:mm"),startDate:t.startDate,endDate:t.endDate,seat_status:t.remainingAttendeeCapacity,tour_number:t.tourNumber,unavailable:"Normal"!==t.evServiceStatus||"Normal"!==t.onlineSalesStatus}}):[]}},"7YcJ":function(t,e){},"7d9W":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("exGp"),i=n.n(s),c=n("//Fk"),o=n.n(c),u=n("mtWM"),l=n("fGqP"),m=n.n(l),d={props:{targetEvent:{type:String,required:!1,default:""},intervalMsIfNoEvent:{type:Number,required:!1,default:15e3}},data:function(){return{apng:null,ctx:null,ctxplayer:null,timeout_resize:null,timeout_play:null}},methods:{resizeCanvas:function(){var t=this;return!!this.apng&&(clearTimeout(this.timeout_resize),this.timeout_resize=setTimeout(function(){var e=window.getComputedStyle(t.$refs.image,null),n={width:parseInt(e.width.replace("px",""),10),height:parseInt(e.height.replace("px",""),10)};t.$refs.canvas.setAttribute("width",n.width),t.$refs.canvas.setAttribute("height",n.height),t.ctx.scale(n.width/t.apng.width,n.height/t.apng.height),t.playAPNG()},200),!1)},loadAPNG:function(){var t,e=this;return new o.a((t=i()(r.a.mark(function t(n,a){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.get("/static/images/logo_animated.png",{responseType:"arraybuffer"});case 3:return s=t.sent,e.apng=m()(s.data),e.ctx=e.$refs.canvas.getContext("2d"),t.next=8,e.apng.getPlayer(e.ctx);case 8:return e.ctxplayer=t.sent,e.resizeCanvas(),t.abrupt("return",n());case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",a());case 17:case"end":return t.stop()}},t,e,[[0,13]])})),function(e,n){return t.apply(this,arguments)}))},playAPNG:function(){this.ctxplayer.stop(),this.ctxplayer.play()},abandon:function(){this.$refs.image.style.opacity=1,this.$refs.canvas.outerHTML=""},init:function(){var t=this;return this.$route.query.noshine?this.abandon():this.loadAPNG().then(function(){t.targetEvent?t.$parent.$on(t.targetEvent,t.playAPNG):(t.ctxplayer.on("end",function(){clearTimeout(t.timeout_play),t.timeout_play=setTimeout(t.playAPNG,t.intervalMsIfNoEvent)}),t.playAPNG())}).catch(function(){t.abandon()})}},mounted:function(){window.addEventListener("resize",this.resizeCanvas,!1)},beforeDestroy:function(){window.removeEventListener("resize",this.resizeCanvas),clearTimeout(this.timeout_resize),clearTimeout(this.timeout_play),this.$parent.$off(this.targetEvent,this.playAPNG)}},h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"shineicon"},[n("img",{ref:"image",attrs:{src:"/static/images/logo-tdt.svg"},on:{"~load":function(e){return t.init(e)}}}),t._v(" "),n("canvas",{ref:"canvas"})])}]};var f=n("VU/8")(d,h,!1,function(t){n("T/6t")},null,null);e.default=f.exports},"8ftZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("PJh5"),r=n.n(a),s=n("4E7i"),i={data:function(){return{moment_now:r()(),timeoutInstance_updateMoment:null}},computed:{HH:function(){return this.moment_now.format("HH")},mm:function(){return this.moment_now.format("mm")}},methods:{getNextTickUnixtime:s.getNextTickUnixtime,setTimeoutUpdateMoment:function(){var t=this;clearTimeout(this.timeoutInstance_updateMoment),this.timeoutInstance_updateMoment=setTimeout(function(){t.moment_now=r()(),t.setTimeoutUpdateMoment()},this.getNextTickUnixtime())}},created:function(){this.setTimeoutUpdateMoment()},beforeDestroy:function(){clearTimeout(this.timeoutInstance_updateMoment)}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"clock"},[e("span",[this._v(this._s(this.HH)),e("span",{staticClass:"colon"},[this._v(":")]),this._v(this._s(this.mm))])])},staticRenderFns:[]};var o=n("VU/8")(i,c,!1,function(t){n("GMwV")},null,null);e.default=o.exports},"Cx+x":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={components:{Loading:n("hILp").default},computed:{verticalClassName:function(){return this.$route.meta.vertical?this.$route.query.rightTop?"vertical-rightTop":"vertical":""}},beforeDestroy:function(){this.$store.commit("CLEAR_LOADINGMSG")}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:[this.verticalClassName],attrs:{id:"app"}},[this.$store.state.loadingMsg?e("loading"):this._e(),this._v(" "),e("transition",{attrs:{name:"fadeup"}},[e("router-view")],1)],1)},staticRenderFns:[]};var s=n("VU/8")(a,r,!1,function(t){n("J3Ex")},null,null);e.default=s.exports},ETUV:function(t,e){},GMwV:function(t,e){},H4kj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("MU8w"),n("JUaF");var a=n("7+uW"),r=n("Zbgs"),s=n("psqi");a.default.component("ErrorOneline",n("wQMa").default),a.default.component("Clock",n("8ftZ").default),a.default.component("ShineIcon",n("7d9W").default),r.default.dispatch("FETCH_APPCONFIG").then(function(t){console.log("APPCONFIG",t),new a.default({el:"#VueApp",router:s.default,store:r.default,render:function(t){return t(n("Cx+x").default)}})}).catch(function(){return alert("CONFIG LOAD ERROR")})},ISmb:function(t,e){},J3Ex:function(t,e){},Ndab:function(t,e){},"T/6t":function(t,e){},VkX1:function(t,e){},Y2G7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("pFYg"),i=n.n(s),c=n("Gu7T"),o=n.n(c),u=n("exGp"),l=n.n(u),m=n("//Fk"),d=n.n(m),h=n("PJh5"),f=n("4E7i");n("ORgI"),h.locale("ja");var p={data:function(){return{langArray:["ja","en","zh-hans"],currentLangIndex:0,locale:{tdt:{ja:"トップデッキツアー",en:"Top Deck Tour","zh-hans":"Top Deck Tour"},tourNumber:{ja:"ツアーNo",en:"Tour No.","zh-hans":"游览编号"},entranceTime:{ja:"入場受付時間",en:"Entrance Time","zh-hans":"入场受理时间"},availability:{ja:"空き状況",en:"Availability","zh-hans":"可预约情况"}},ticketinfoArray:[{ticket_id:"001",price:3e3,ja:{name:"大人",cap:""},en:{name:"Adult",cap:"(over 18 years)"},"zh-hans":{name:"大人",cap:"(19岁以上)"}},{ticket_id:"002",price:2800,ja:{name:"高校生",cap:""},en:{name:"High School",cap:"(16-18 years)"},"zh-hans":{name:"高中生",cap:"(16～18岁)"}},{ticket_id:"003",price:2e3,ja:{name:"子供",cap:"(小・中学生)"},en:{name:"Junior",cap:"(7-15 years)"},"zh-hans":{name:"儿童",cap:"(7～15岁)"}},{ticket_id:"004",price:1400,ja:{name:"幼児",cap:"(4歳以上)"},en:{name:"Child",cap:"(4-6 years)"},"zh-hans":{name:"幼儿",cap:"(4～6岁)"}}],nearStatusArray:[],futureAvgStatusArray:[],timeoutInstance_changeLang:null,timeoutInstance_IntervalFetch:null}},computed:{currentLang:function(){return this.langArray[this.currentLangIndex]}},methods:{fetchScheduleStatus:f.fetchScheduleStatus,getNextTickUnixtime:f.getNextTickUnixtime,getStatusClassNameByPerformance:f.getStatusClassNameByPerformance,manipulateScheduleData:f.manipulateScheduleData,echoPrice:function(t){return"￥"+t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},updateStatus:function(){var t,e=this;return new d.a((t=l()(r.a.mark(function t(n,a){var s,c,u,l,m,d,f;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=h().minute(0).second(0).milliseconds(0),t.next=4,e.fetchScheduleStatus(e.$store,{startFrom:s.toISOString(),startThrough:s.add(4,"hour").minute(59).second(59).toISOString()});case 4:c=t.sent,u=h().hour(),l=[],m=[],d={},e.manipulateScheduleData(c).forEach(function(t){try{if(h().isAfter(h(t.endDate)))return!0;-1===m.indexOf(t.hour)&&(m.push(t.hour),d[t.hour]=[]),d[t.hour].push(t),l.length<4&&l.push(t)}catch(t){return console.log(t),!0}return!0}),e.nearStatusArray=l,f=[].concat(o()(Array(4))).map(function(t,e){return e+1+u}),e.futureAvgStatusArray=f.filter(function(t){return"object"===i()(d[t])}).map(function(t){var e=!0,n=Math.floor(d[t].reduce(function(t,n){if(!n.unavailable){e=!1;var a=parseInt(n.seat_status,10);return isNaN(a)&&(a=0),t+a}return t},0)/d[t].length);return{hours:t+":00～"+("0"+(parseInt(t,10)+1)).slice(1)+":00",seat_status:n,unavailable:e,is_avg:!0}}),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",a(t.t0));case 18:return t.abrupt("return",n());case 19:case"end":return t.stop()}},t,e,[[0,15]])})),function(e,n){return t.apply(this,arguments)}))},setFetchStatusDataTimeout:function(){var t=this;clearTimeout(this.timeoutInstance_IntervalFetch),this.timeoutInstance_IntervalFetch=setTimeout(l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateStatus();case 2:t.setFetchStatusDataTimeout();case 3:case"end":return e.stop()}},e,t)})),this.getNextTickUnixtime())},setChangeLangTimeout:function(t){var e=this;clearTimeout(this.timeoutInstance_changeLang),this.timeoutInstance_changeLang=setTimeout(function(){e.$emit("langChanged"),e.currentLangIndex++,e.currentLangIndex>e.langArray.length-1?(e.currentLangIndex=0,e.setChangeLangTimeout(6e3)):e.setChangeLangTimeout()},t||3e3)}},created:function(){var t=this;this.$store.commit("SET_LOADINGMSG","最新の情報を取得中..."),this.updateStatus().then(function(){t.$store.commit("CLEAR_LOADINGMSG"),t.setFetchStatusDataTimeout(),t.setChangeLangTimeout(6e3)})},beforeDestroy:function(){clearTimeout(this.timeoutInstance_IntervalFetch),clearTimeout(this.timeoutInstance_changeLang)}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["container","container-ticketstatus","lang-"+t.currentLang,{onerror:t.$store.state.errorMsgStr}]},[t.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"通信エラーが発生しています "+t.$store.state.errorMsgStr}}):t._e(),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"area area-schedule"},[t._m(1),t._v(" "),n("table",{staticClass:"table-main"},[t._m(2),t._v(" "),n("tbody",t._l(t.nearStatusArray,function(e){return n("tr",{key:e.id,class:["item",t.getStatusClassNameByPerformance(t.$store.state.moment,e,10)]},[n("td",[t._v(t._s(e.tour_number))]),t._v(" "),n("td",{staticClass:"time"},[t._v(t._s(e.start_time)+" ～ "+t._s(e.end_time))]),t._v(" "),n("td",{staticClass:"wrapper-status"},[n("span",{staticClass:"status"},[t._v(t._s(e.seat_status))])])])}),0),t._v(" "),n("tfoot",[n("tr",[n("td",{attrs:{colspan:"3"}},t._l(t.futureAvgStatusArray,function(e,a){return n("div",{key:a,class:["houritem",t.getStatusClassNameByPerformance(t.$store.state.moment,e)]},[n("p",{staticClass:"hours"},[t._v(t._s(e.hours))]),t._v(" "),n("div",{staticClass:"wrapper-status"},[n("p",{staticClass:"status"},[t._v(t._s(e.seat_status))])])])}),0)])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"area area-info"},[n("div",{staticClass:"mainvisual"},[n("p",[n("shine-icon",{attrs:{targetEvent:"langChanged"}})],1)]),t._v(" "),n("div",{staticClass:"prices"},t._l(t.ticketinfoArray,function(e){return n("section",{key:e.ticket_id},[n("div",[n("h2",[t._l(t.langArray,function(a){return n("span",{key:"ticketname_"+a,class:"langcontent langcontent-"+a},[t._v(t._s(e[a].name))])}),t._v(" "),n("span",{staticClass:"cap"},t._l(t.langArray,function(a){return n("span",{key:"ticketcap_"+a,class:"langcontent langcontent-"+a},[t._v(t._s(e[a].cap))])}),0)],2),t._v(" "),n("p",[t._v(t._s(t.echoPrice(e.price)))])])])}),0)])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("span",{staticClass:"tdt"},t._l(t.langArray,function(e){return n("span",{key:"tdt_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.tdt[e]))])}),0),t._v(" "),n("span",{staticClass:"separator"}),t._v(" "),n("clock",{staticClass:"iconBefore icon-clock"})],1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",t._l(t.langArray,function(e){return n("span",{key:"tourNumber_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.tourNumber[e]))])}),0),t._v(" "),n("th",{staticClass:"time"},t._l(t.langArray,function(e){return n("span",{key:"entranceTime_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.entranceTime[e]))])}),0),t._v(" "),n("th",t._l(t.langArray,function(e){return n("span",{key:"availability_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.availability[e]))])}),0)])])}]};var g=n("VU/8")(p,v,!1,function(t){n("Ndab")},null,null);e.default=g.exports},Zbgs:function(t,e,n){"use strict";var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(r,s){function i(t){try{o(a.next(t))}catch(t){s(t)}}function c(t){try{o(a.throw(t))}catch(t){s(t)}}function o(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,c)}o((a=a.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,a,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&s[0]?a.return:s[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,s[1])).done)return r;switch(a=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,a=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],a=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),i=n("NYxO"),c=n("mtWM"),o=n("PJh5");s.default.use(i.default);e.default=new i.default.Store({strict:!1,modules:{},state:{moment:o(),APPCONFIG:{},errorMsgStr:"",loadingMsg:"",scheduleStatus:[]},mutations:{SET_APPCONFIG:function(t,e){t.APPCONFIG=e},SET_ERRORMSG:function(t,e){t.errorMsgStr=e},CLEAR_ERRORMSG:function(t){t.errorMsgStr=""},SET_LOADINGMSG:function(t,e){t.loadingMsg=e},CLEAR_LOADINGMSG:function(t){t.loadingMsg=""},SET_SCHEDULESTATUS:function(t,e){t.scheduleStatus=e},UPDATE_MOMENTOBJ:function(t){t.moment=o()}},actions:{FETCH_APPCONFIG:function(t){var e=this,n=t.commit;return new Promise(function(t,s){return a(e,void 0,void 0,function(){var e;return r(this,function(a){return e="/api/config",c.default.get(e).then(function(e){return"object"!=typeof e.data||Object.keys(e.data).some(function(t){return!e.data[t]||!e.data[t][0]})?s():(n("SET_APPCONFIG",e.data),t(e.data))}).catch(function(t){return console.error(t),s()}),[2]})})})},QUIT:function(){var t=this;return new Promise(function(e){return a(t,void 0,void 0,function(){return r(this,function(t){return window.location.href=window.location.href.split("#")[0],e(),[2]})})})}}})},Zfhc:function(t,e){},hILp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"loading"}},[e("div",{class:["loading-mask",{"loading-mask-vertical":this.$route.meta.vertical}]},[e("div",{staticClass:"loading-wrapper"},[e("div",{staticClass:"loading-container"},[e("div",{staticClass:"loading-header"},[e("h3",[this._v(this._s(this.$store.state.loadingMsg))])]),this._v(" "),this._m(0)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-body"},[e("div",{staticClass:"v-spinner"},[e("div",{staticClass:"v-ring v-ring1"},[e("div",{staticClass:"v-ring v-ring2"}),this._v(" "),e("div",{staticClass:"v-ring v-ring3"})])])])}]};var r=n("VU/8")({},a,!1,function(t){n("7YcJ")},"data-v-0a2a45d3",null);e.default=r.exports},j6g2:function(t,e){},jwB1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("exGp"),i=n.n(s),c=n("//Fk"),o=n.n(c),u=n("PJh5"),l=n("4E7i");n("ORgI"),u.locale("ja");var m={data:function(){return{langArray:["ja","en"],currentLangIndex:0,locale:{tourNumber:{ja:"ツアーNo",en:"Tour No."},entranceTime:{ja:"入場受付時間",en:"Entrance Time"},PleasePrepare:{ja:"入場用QRコードを準備してお待ち下さい",en:"Please prepare to show your QR code for entrance."},howtoGetQr:{ja:"入場用QRコード入手方法",en:"How to get your QR code for entrance"},scanBelowQr:{ja:"以下のQRコードから<br>チケット紹介ページへ",en:"Go to the Check Ticket page by scanning the below QR code."},enterNumbers:{ja:"チケット購入番号と購入時の電話番号を入力して照会",en:"Enter the purchase number and the telephone number."}},currentPerformance:{},timeoutInstance_IntervalFetch:null,timeoutInstance_changeLang:null}},computed:{currentLang:function(){return this.langArray[this.currentLangIndex]}},methods:{fetchScheduleStatus:l.fetchScheduleStatus,getNextTickUnixtime:l.getNextTickUnixtime,manipulateScheduleData:l.manipulateScheduleData,getCurrentPerformance:function(){var t,e=this;return new o.a((t=i()(r.a.mark(function t(n){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=u().minute(0).second(0).milliseconds(0),t.next=4,e.fetchScheduleStatus(e.$store,{startFrom:a.toISOString(),startThrough:a.minute(59).second(59).toISOString()});case 4:s=t.sent,e.currentPerformance=e.manipulateScheduleData(s).filter(function(t){return u().isBetween(u(t.startDate),u(t.endDate))})[0],t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:return t.abrupt("return",n());case 12:case"end":return t.stop()}},t,e,[[0,8]])})),function(e){return t.apply(this,arguments)}))},setFetchStatusDataInterval:function(){var t=this;clearTimeout(this.timeoutInstance_IntervalFetch),this.timeoutInstance_IntervalFetch=setTimeout(function(){t.getCurrentPerformance().then(function(){t.setFetchStatusDataInterval()})},this.getNextTickUnixtime())},setChangeLangTimeout:function(t){var e=this;clearTimeout(this.timeoutInstance_changeLang),this.timeoutInstance_changeLang=setTimeout(function(){e.currentLangIndex++,e.currentLangIndex>e.langArray.length-1?(e.currentLangIndex=0,e.setChangeLangTimeout(1e4)):e.setChangeLangTimeout(),e.$emit("langChanged")},t||5e3)}},created:function(){var t=this;this.$store.commit("SET_LOADINGMSG","読み込み中"),this.getCurrentPerformance().then(function(){t.$store.commit("CLEAR_LOADINGMSG"),t.setFetchStatusDataInterval(),t.setChangeLangTimeout(1e4)})},beforeDestroy:function(){clearTimeout(this.timeoutInstance_IntervalFetch),clearTimeout(this.timeoutInstance_changeLang)}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fadeup"}},[n("div",{class:["container","container-checkintime","lang-"+t.currentLang,{onerror:t.$store.state.errorMsgStr}]},[t.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"データ取得エラーが発生しています "+t.$store.state.errorMsgStr}}):t._e(),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"tournumber"},[n("h2",[t._v(t._s(t.locale.tourNumber[t.currentLang]))]),t._v(" "),t.currentPerformance&&t.currentPerformance.tour_number?n("h3",[t._v(t._s(t.currentPerformance.tour_number))]):t._e()]),t._v(" "),t.currentPerformance&&t.currentPerformance.start_time?n("div",{staticClass:"time"},[n("h2",[t._v(t._s(t.locale.entranceTime[t.currentLang]))]),t._v(" "),n("h3",[t._v(t._s(t.currentPerformance.start_time)+" ～ "+t._s(t.currentPerformance.end_time))]),t._v(" "),n("p",[t._v(t._s(t.locale.PleasePrepare[t.currentLang]))])]):t._e(),t._v(" "),n("footer",[n("div",{staticClass:"qrguide"},[n("h2",[t._v(t._s(t.locale.howtoGetQr[t.currentLang]))]),t._v(" "),n("div",{staticClass:"qrguidesteps"},[n("div",[n("h3",[t._v("1.")]),t._v(" "),n("p",{domProps:{innerHTML:t._s(t.locale.scanBelowQr[t.currentLang])}}),t._v(" "),t._m(1)]),t._v(" "),n("div",[n("h3",[t._v("2.")]),t._v(" "),n("p",[t._v(t._s(t.locale.enterNumbers[t.currentLang]))]),t._v(" "),t._m(2)])])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("div",{staticClass:"inner"},[e("div",{staticClass:"iconwrapper"},[e("shine-icon",{staticClass:"logo",attrs:{targetEvent:"langChanged"}})],1),this._v(" "),e("div",{staticClass:"clockwrapper"},[e("clock",{staticClass:"icon-clock"})],1)])])},function(){var t=this.$createElement,e=this._self._c||t;return e("figure",{staticClass:"qrimage"},[e("img",{staticClass:"langcontent langcontent-ja",attrs:{src:"/static/images/qr-inquiry-ja.svg",alt:"https://reference.tokyotower.co.jp/inquiry/search"}}),this._v(" "),e("img",{staticClass:"langcontent langcontent-en",attrs:{src:"/static/images/qr-inquiry-en.svg",alt:"https://reference.tokyotower.co.jp/inquiry/search?locale=en"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("figure",{staticClass:"formimage"},[e("img",{staticClass:"langcontent langcontent-ja",attrs:{src:"/static/images/figure-inquiryform-ja.png"}}),this._v(" "),e("img",{staticClass:"langcontent langcontent-en",attrs:{src:"/static/images/figure-inquiryform-en.png"}})])}]};var h=n("VU/8")(m,d,!1,function(t){n("j6g2")},"data-v-649f113b",null);e.default=h.exports},psqi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r=n("/ocq"),s=n("Zbgs");a.default.use(r.default);var i=new r.default({routes:[{name:"home",path:"/",component:n("yPrU").default,meta:{title:"東京タワー サイネージ画面一覧"}},{name:"todaytdt",path:"/todaytdt",component:n("+YdJ").default,meta:{group:"1fticket",title:"東京タワー 「トップデッキツアー 本日のチケット」",noclock:!0}},{name:"info",path:"/info",component:n("Y2G7").default,meta:{group:"1fticket",title:"東京タワー トップデッキツアー チケット空き状況"}},{name:"guide_lane",path:"/guide/lane",component:n("jwB1").default,meta:{group:"lane",title:"東京タワー 入場案内 トップデッキレーン",vertical:!0}},{name:"guide_gate",path:"/guide/gate",component:n("zPSQ").default,meta:{group:"gate",title:"東京タワー 入場案内 トップデッキゲート"}},{name:"suspend",path:"/suspend",component:n("+YdJ").default,meta:{group:"suspend",title:"東京タワー トップデッキツアー休止中"}},{name:"suspend.vertical",path:"/vertical/suspend",component:n("+YdJ").default,meta:{group:"suspend",title:"東京タワー トップデッキツアー休止中 (縦)",vertical:!0}},{name:"suspend.vertical",path:"/vertical/suspend?rightTop=true",component:n("+YdJ").default,meta:{group:"suspend",title:"東京タワー トップデッキツアー休止中 (縦-右回転)",vertical:!0}},{name:"closed",path:"/closed",component:n("+YdJ").default,meta:{group:"closed",title:"東京タワー トップデッキツアー受付終了"}},{name:"closed.vertical",path:"/vertical/closed",component:n("+YdJ").default,meta:{group:"closed",title:"東京タワー トップデッキツアー受付終了 (縦)",vertical:!0}},{name:"closed.vertical",path:"/vertical/closed?rightTop=true",component:n("+YdJ").default,meta:{group:"closed",title:"東京タワー トップデッキツアー受付終了 (縦-右回転)",vertical:!0}},{name:"sleep",path:"/sleep",component:n("+YdJ").default,meta:{group:"sleep",title:"東京タワー 営業時間外"}},{name:"sleep.vertical",path:"/vertical/sleep",component:n("+YdJ").default,meta:{group:"sleep",title:"東京タワー 営業時間外 (縦)",vertical:!0}},{name:"sleep.vertical",path:"/vertical/sleep?rightTop=true",component:n("+YdJ").default,meta:{group:"sleep",title:"東京タワー 営業時間外 (縦-右回転)",vertical:!0}}]});i.beforeEach(function(t,e,n){return window.document.title=t.meta.title,n()}),i.afterEach(function(){s.default.commit("CLEAR_LOADINGMSG")}),e.default=i},wQMa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={props:{errorMsgStr:{type:String,required:!0}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-oneline"},[e("div",[e("p",[this._v(this._s(this.errorMsgStr))])])])},staticRenderFns:[]};var s=n("VU/8")(a,r,!1,function(t){n("Zfhc")},null,null);e.default=s.exports},yPrU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"menu"},t._l(t.pagesByGroup,function(e,a){return n("ul",{key:a},t._l(e,function(e){return n("li",{key:e.path},[n("router-link",{attrs:{to:e.path}},[n("span",[t._v(t._s(e.title))])])],1)}),0)}),0)])}]};var r=n("VU/8")({computed:{pagesByGroup:function(){var t={};return this.$router.options.routes.forEach(function(e){return!e.meta.group||(t[e.meta.group]=t[e.meta.group]||[],t[e.meta.group].push({title:e.meta.title.replace("東京タワー ",""),path:e.path}))}),t}}},a,!1,function(t){n("VkX1")},"data-v-4f8c697d",null);e.default=r.exports},zPSQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("exGp"),i=n.n(s),c=n("//Fk"),o=n.n(c),u=n("PJh5"),l=n("4E7i");n("ORgI"),u.locale("ja");var m={data:function(){return{langArray:["ja","en"],currentLangIndex:0,locale:{tourNumber:{ja:"ツアーNo",en:"Tour No."},entranceTime:{ja:"入場受付時間",en:"Entrance Time"},pleasePrepare:{ja:"入場用QRコードを準備してお待ち下さい",en:"Please prepare to show your QR code for entrance."}},currentPerformanceArray:[],timeoutInstance_IntervalFetch:null,timeoutInstance_changeLang:null}},computed:{currentLang:function(){return this.langArray[this.currentLangIndex]}},methods:{fetchScheduleStatus:l.fetchScheduleStatus,getNextTickUnixtime:l.getNextTickUnixtime,manipulateScheduleData:l.manipulateScheduleData,getCurrentPerformance:function(){var t,e=this;return new o.a((t=i()(r.a.mark(function t(n){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=u().minute(0).second(0).milliseconds(0),t.next=4,e.fetchScheduleStatus(e.$store,{startFrom:a.toISOString(),startThrough:a.minute(59).second(59).toISOString()});case 4:s=t.sent,e.currentPerformanceArray=e.manipulateScheduleData(s,{setGateEndTime:!0}).filter(function(t){return u().isBetween(u(t.startDate),u(t.endDate).add(5,"minute"))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:return t.abrupt("return",n());case 12:case"end":return t.stop()}},t,e,[[0,8]])})),function(e){return t.apply(this,arguments)}))},setFetchStatusDataInterval:function(){var t=this;clearTimeout(this.timeoutInstance_IntervalFetch),this.timeoutInstance_IntervalFetch=setTimeout(function(){t.getCurrentPerformance().then(function(){t.setFetchStatusDataInterval()})},this.getNextTickUnixtime())},setChangeLangTimeout:function(t){var e=this;clearTimeout(this.timeoutInstance_changeLang),this.timeoutInstance_changeLang=setTimeout(function(){e.currentLangIndex++,e.currentLangIndex>e.langArray.length-1?(e.currentLangIndex=0,e.setChangeLangTimeout(1e4)):e.setChangeLangTimeout(),e.$emit("langChanged")},t||5e3)}},created:function(){var t=this;this.$store.commit("SET_LOADINGMSG","読み込み中"),this.getCurrentPerformance().then(function(){t.$store.commit("CLEAR_LOADINGMSG"),t.setFetchStatusDataInterval(),t.setChangeLangTimeout(1e4)})},beforeDestroy:function(){clearTimeout(this.timeoutInstance_IntervalFetch),clearTimeout(this.timeoutInstance_changeLang)}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fadeup"}},[n("div",{class:["container","container-checkintime","lang-"+t.currentLang,{onerror:t.$store.state.errorMsgStr}]},[t.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"データ取得エラーが発生しています "+t.$store.state.errorMsgStr}}):t._e(),t._v(" "),t._m(0),t._v(" "),n("table",{staticClass:"table-tours"},[n("thead",[n("tr",[n("th",[t._v(t._s(t.locale.tourNumber[t.currentLang]))]),n("th",[t._v(t._s(t.locale.entranceTime[t.currentLang]))])])]),t._v(" "),n("tbody",[t.currentPerformanceArray.length?t._e():n("tr",[n("td"),n("td")]),t._v(" "),t._l(t.currentPerformanceArray,function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.tour_number))]),n("td",[t._v(t._s(e.start_time)+" ～ "+t._s(e.end_time))])])})],2),t._v(" "),n("tfoot",[n("tr",[n("td",{attrs:{colspan:"2"}},[t._v(t._s(t.locale.pleasePrepare[t.currentLang]))])])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("div",{staticClass:"inner"},[e("div",{staticClass:"iconwrapper"},[e("shine-icon",{staticClass:"logo",attrs:{targetEvent:"langChanged"}})],1),this._v(" "),e("div",{staticClass:"clockwrapper"},[e("clock",{staticClass:"icon-clock"})],1)])])}]};var h=n("VU/8")(m,d,!1,function(t){n("ISmb")},"data-v-44e11eee",null);e.default=h.exports}},["H4kj"]);